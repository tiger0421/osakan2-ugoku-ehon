# 動く絵本アプリ (Ugoku Ehon App)

子ども向けの動きのあるイラスト付き絵本をWebアプリとして提供するサービスです。子どもの写真をアップロードすると、その子が主人公として登場する物語を自動生成し、アニメーション付きのページとして閲覧できます。

## 機能

### 🎨 主な機能
- **絵本の自動生成**: 子どもの名前を入力するだけで、オリジナルの物語を生成
- **写真アップロード**: 子どもと保護者の写真をアップロード（将来的にAI画像合成に使用）
- **アニメーション**: 6種類の美しいページ遷移アニメーション
  - フェードイン/アウト
- スライド（左右）
  - バウンス
  - ズーム
  - フロート
- **レスポンシブデザイン**: スマホ・タブレット・デスクトップに対応
- **プログレス表示**: 物語生成の進捗をリアルタイムで表示

### 🎯 対象ユーザー
- 3〜6歳の子どもとその保護者
- スマホまたはタブレットでの閲覧が中心

## 技術スタック

### フロントエンド
- **Next.js 15** - React フレームワーク
- **TypeScript** - 型安全性
- **Tailwind CSS** - スタイリング
- **Framer Motion** - アニメーション
- **Zustand** - 状態管理
- **React Dropzone** - ファイルアップロード
- **Radix UI** - アクセシブルなUI コンポーネント
- **Lucide React** - アイコン

### 開発・デプロイ
- **Vercel** - デプロイメント
- **ESLint** - コード品質
- **Turbopack** - 高速ビルド

## セットアップ

### 前提条件
- Node.js 18.0.0 以上
- npm または yarn

### インストール

```bash
# リポジトリをクローン
git clone <repository-url>
cd ugoku-ehon-app

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

開発サーバーが起動したら、[http://localhost:3000](http://localhost:3000) でアプリケーションにアクセスできます。

## プロジェクト構造

```
ugoku-ehon-app/
├── src/
│   ├── app/                    # Next.js App Router
│   │   ├── create/             # 絵本作成ページ
│   │   │   └── page.tsx
│   │   ├── story/              # 絵本表示ページ
│   │   │   └── page.tsx
│   │   ├── globals.css         # グローバルスタイル
│   │   ├── layout.tsx          # ルートレイアウト
│   │   └── page.tsx            # ホームページ
│   ├── components/             # Reactコンポーネント
│   │   ├── ui/                 # 再利用可能なUIコンポーネント (Radix UIベース)
│   │   │   ├── button.tsx
│   │   │   ├── card.tsx        # カードコンポーネント
│   │   │   ├── dialog.tsx
│   │   │   ├── input.tsx       # 入力フィールドコンポーネント
│   │   │   ├── label.tsx       # ラベルコンポーネント
│   │   │   └── progress.tsx
│   │   ├── ImageUpload.tsx     # 画像アップロードコンポーネント (今回は未使用)
│   │   ├── StoryPage.tsx       # 絵本の一ページを表示するコンポーネント
│   │   └── StoryViewer.tsx     # 絵本全体を閲覧・操作するコンポーネント
│   ├── lib/
│   │   └── utils.ts            # ユーティリティ関数 (cnなど)
│   ├── store/
│   │   └── useStore.ts         # Zustand ストア (状態管理)
│   └── types/
│       └── index.ts            # TypeScript型定義
├── public/                     # 静的ファイル (画像など)
├── package.json
├── tailwind.config.ts
├── tsconfig.json
└── README.md
```

## 使用方法

### 1. 絵本作成
1.  ホーム画面 (`/`) で「絵本を作る」ボタンをクリックします。
2.  絵本作成画面 (`/create`) に遷移します。
3.  **子どもの名前** を入力します（必須項目）。
4.  **保護者の名前** を入力します（任意項目）。
5.  （現バージョンでは写真アップロード機能は実装されていませんが、将来的にはここに追加されます。）
6.  「絵本を生成する」ボタンをクリックします。

### 2. 絵本閲覧
-   絵本を生成すると、自動的に絵本表示画面 (`/story`) に遷移します。
-   画面下部の「まえへ」「つぎへ」ボタン、またはキーボードの左右矢印キー（← →）でページをめくることができます。
-   画面上部には絵本のタイトルと現在の進捗を示すプログレスバーが表示されます。
-   絵本表示画面の左上にある「ホームに戻る」ボタンをクリックすると、ホームページに戻ります。この際、表示していた絵本の情報はクリアされます。

## カスタマイズ

### アニメーションの追加・変更
-   ページ遷移のアニメーションは `src/components/StoryPage.tsx` 内の `animationVariants` オブジェクトで定義されています。
-   新しいアニメーションを追加したり、既存のアニメーションの挙動（duration, easeなど）を変更したりできます。
-   各ページデータに `animation: "アニメーション名"` を指定することで、ページごとに異なるアニメーションを適用できます（デフォルトは `fadeIn`）。

### スタイルの変更
-   グローバルなスタイルは `src/app/globals.css` で編集できます。
-   Tailwind CSS の設定は `tailwind.config.ts` でカスタマイズ可能です。
-   各コンポーネントのスタイルは、それぞれの `.tsx` ファイル内で Tailwind CSS のクラスユーティリティを使って直接指定されています。

### 物語テンプレートの変更
-   現在のバージョンでは、物語のテンプレートは `src/app/create/page.tsx` 内の `handleGenerateStory` 関数にハードコードされています。
-   `storyPages` 配列の内容を編集することで、生成される物語のテキストやページ数を変更できます。
-   将来的には、複数のテンプレートから選択したり、ユーザーが自由に入力したりする機能の追加が検討されています。

## 今後の拡張予定

### AI統合
- **OpenAI GPT-4**: 物語の自動生成
- **Stable Diffusion**: イラストの自動生成
- **顔合成技術**: アップロードした写真をキャラクターに合成

### 機能追加
- 物語の保存・管理
- 複数の物語テンプレート
- 音声読み上げ機能
- ソーシャル共有機能
- 印刷機能

### バックエンド
- Firebase または Supabase での認証・データベース
- 画像ストレージ（Firebase Storage / Amazon S3）
- AI API との連携

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。

## 貢献

プルリクエストや Issue の報告を歓迎します。大きな変更を行う前に、まず Issue を作成して議論することをお勧めします。

## サポート

質問や問題がある場合は、GitHub の Issue を作成してください。
